document.addEventListener("DOMContentLoaded",function(){getData()},!1);function getData(){fetch("https://nplist.now.sh/api/list").then(a=>a.json()).then(a=>{title=document.getElementById("title"),table=document.getElementById("playerlist").getElementsByTagName("tbody")[0],title.innerText=`[NoPixel] Current Players: ${a.CurrentPlayers} / 32 | Queue: ${a.CurrentQueue}`,a.Players=a.Players.sort((c,a)=>c.id>a.id?1:a.id>c.id?-1:0),a.Players.forEach(function(a,b){newRow=table.insertRow(table.rows.length),newCell=newRow.insertCell(0),newText=document.createTextNode(`${b+1}`),newCell.appendChild(newText),newCell=newRow.insertCell(1),newText=document.createTextNode(`${a.id}`),newCell.appendChild(newText),newCell=newRow.insertCell(2),newText=document.createTextNode(`${a.name}`),newCell.appendChild(newText),newCell=newRow.insertCell(3),newText=document.createTextNode(`${steamID(a.identifiers[0])}`),newCell.appendChild(newText),newCell=newRow.insertCell(4),newText=document.createTextNode(`${steamHexTo64(a.identifiers[0])}`),newCell.appendChild(newText),newCell=newRow.insertCell(5),newText=document.createTextNode(`${a.ping}`),newCell.appendChild(newText)})}).catch(a=>console.log(a))}function steamHexTo64(a){return a=a.replace("steam:","0x"),BigInt(a)}function steam64ToLegacy(a){return auth=BigInt(a)%BigInt(2),a=(BigInt(a)-BigInt("76561197960265728"))/BigInt(2),`STEAM_0:${auth}:${a}`}function steamID(a){return a=steamHexTo64(a),steam64ToLegacy(a)}